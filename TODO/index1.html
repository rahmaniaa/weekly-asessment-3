<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TO-DO APP</title>
  <!-- CSS Framework Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

<style>
  ol {
    list-style: none;
  }

  .container {
    max-width: 600px;
  }

  .container-fluid {
      background: maroon;
  }
</style>
</head>
<body>
  <nav class="navbar navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand">TO-DO APP</a>
      <span class="navbar-text">By : Niaaa♡︎</span>
    </div>
  </nav>
  <main class="container my-3">
    <form action="#" class="input-group my-3">
      <input type="text" class="form-control" placeholder="Produktif yuk!!" aria-label="Recipient's username" aria-describedby="button-addon2" id="new-todo" />
      <button class="btn btn-outline-secondary" onclick="add()">tambahkan</button>
    </form>

    <ol id="list" class='list-group'></ol>
  </main>
 
  <!-- JavaScript Bundle with Popper --> 
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script>
  // STYLING
  const red = 'danger';
  const green = 'success';
  const blue = 'primary';
  const colors = [red, green, blue,];
  let idx = 0
  
  // SELECTOR
  const todoList = document.querySelector('#list')
  let newTodo = document.querySelector('#new-todo');
  
  // FITUR MEMBUAT TO-DO BARU
  function add() {
    if (newTodo.value !== '') {
      if (idx === 3) { idx = 0 }
    

        // Ambil nilai inputan dari user
        input = newTodo.value;

        // Tambahkan list To-do baru
        let li = document.createElement('li');
        let btn = document.createElement('button');
        let div = document.createElement('div');
        div.classList = 'btn-group my-1'
        let txt = document.createTextNode(input);
        btn.classList = `btn list-group-item-action list-group-item-${colors[idx]}`
        btn.setAttribute('type', 'button');
        btn.setAttribute('onclick', 'toggle(this)');
        
        // Membuat tombol delete
        let del = document.createElement('button');
        del.append('hapus')
        del.classList = `btn btn-outline-${colors[idx]}`
        del.setAttribute('onclick', 'removeItem(this)')

        // Menyatukan element list to-do dan tombol delete
        div.appendChild(btn);
        div.appendChild(del);
        btn.appendChild(li);
        li.appendChild(txt);
        todoList.insertAdjacentElement('afterbegin', div);

        // Mengubah index colors
        idx++

        // Kosongkan kolom input
        newTodo.value = ''
    }
  }

  // FITUR MENCORET TO-DO LIST JIKA SUDAH DIKERJAKAN
  function toggle(element) {
    element.classList.toggle('text-decoration-line-through');
    element.classList.toggle('list-group-item-dark');
  }

  //  FITUR MENGHAPUS TO-DO LIST
  function removeItem(element) {
    element.parentElement.remove()
  }
</script>
</body>
</html>